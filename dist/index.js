'use strict';const fs=require("fs"),path=require("path"),Sequelize=require("sequelize"),basename=path.basename(__filename),env=process.env.NODE_ENV||"development",config=require(__dirname+"/../config/config.json")[env],db={};let sequelize;sequelize=config.use_env_variable?new Sequelize(process.env[config.use_env_variable],config):new Sequelize(config.database,config.username,config.password,config),fs.readdirSync(__dirname).filter(a=>0!==a.indexOf(".")&&a!==basename&&".js"===a.slice(-3)).forEach(a=>{const b=require(path.join(__dirname,a))(sequelize,Sequelize.DataTypes);db[b.name]=b}),Object.keys(db).forEach(a=>{db[a].associate&&db[a].associate(db)}),db.sequelize=sequelize,db.Sequelize=Sequelize,module.exports=db;